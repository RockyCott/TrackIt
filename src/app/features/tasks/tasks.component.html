<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title class="color-light">Tareas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Filtros -->
  <div class="filter-container">
    @for (status of statusFilters; track $index) {
    <ion-chip
      [outline]="activeStatusFilter !== status"
      [color]="activeStatusFilter === status ? getBadgeColor(status) : 'medium'"
      (click)="setFilter(status)"
      (keydown)="(null)"
    >
      <ion-label>{{ status }}</ion-label>
    </ion-chip>
    }
  </div>

  <!-- Lista de Tareas -->
  @for (task of filteredTasks; track $index) {
  <ion-nav-link router-direction="forward" [component]="component">
    <ion-card class="task-card" [routerLink]="['/dashboard/tasks', task.id]">
      <ion-card-header>
        <ion-card-title>{{ task.title }}</ion-card-title>
        <ion-card-subtitle>
          <app-status-badge [status]="task.status"></app-status-badge>
        </ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <p><strong>Project:</strong> {{ task.project }}</p>
        <p><strong>Priority:</strong> {{ task.priority }}</p>
      </ion-card-content>
    </ion-card>
  </ion-nav-link>
  } @empty {
  <div class="empty-state">
    <ion-icon name="document-outline"></ion-icon>
    <p>No tasks found.</p>
  </div>
  }
</ion-content>
